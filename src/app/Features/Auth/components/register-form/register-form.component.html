<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
  <div class="grid gap-6 mb-6 md:grid-cols-2">
    <div>
      <label for="first_name" class="block mb-2 text-sm font-medium text-gray-900">First name</label>
      <input
        type="text"
        id="first_name"
        formControlName="firstName"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5"
        placeholder="John"
      />
      <div *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid" class="text-status-pending text-sm mt-1">
        <div *ngIf="registerForm.get('firstName')?.errors?.['required']">First name is required.</div>
        <div *ngIf="registerForm.get('firstName')?.errors?.['maxlength']">Maximum 100 characters allowed.</div>
      </div>
    </div>
    <div>
      <label for="last_name" class="block mb-2 text-sm font-medium text-gray-900">Last name</label>
      <input
        type="text"
        id="last_name"
        formControlName="lastName"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5"
        placeholder="Doe"
      />
      <div *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid" class="text-status-pending text-sm mt-1">
        <div *ngIf="registerForm.get('lastName')?.errors?.['required']">Last name is required.</div>
        <div *ngIf="registerForm.get('lastName')?.errors?.['maxlength']">Maximum 100 characters allowed.</div>
      </div>
    </div>
    <div>
      <label for="gender" class="block mb-2 text-sm font-medium text-gray-900">Gender</label>
      <select
        id="gender"
        formControlName="gender"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5"
      >
        <option value="">Choose a gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
      <div *ngIf="registerForm.get('gender')?.touched && registerForm.get('gender')?.invalid" class="text-status-pending text-sm mt-1">
        Gender is required.
      </div>
    </div>
    <div>
      <label class="block mb-2 text-sm font-medium text-gray-900" for="file_input">Upload photo</label>
      <input
        class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50"
        type="file"
        id="file_input"
        (change)="onFileChange($event)"
      />
      <p class="mt-1 text-sm text-gray-500">PNG, JPG or JPEG</p>
    </div>
  </div>

  <div class="mb-6">
    <label for="email" class="block mb-2 text-sm font-medium text-gray-900">Email address</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5"
      placeholder="john.doe@company.com"
    />
    <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" class="text-status-pending text-sm mt-1">
      <div *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</div>
      <div *ngIf="registerForm.get('email')?.errors?.['email']">Invalid email format.</div>
      <div *ngIf="registerForm.get('email')?.errors?.['maxlength']">Maximum 100 characters allowed.</div>
    </div>
  </div>
  <div class="mb-6">
    <label for="password" class="block mb-2 text-sm font-medium text-gray-900">Password</label>
    <input
      type="password"
      id="password"
      formControlName="password"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5"
      placeholder="•••••••••"
    />
    <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="text-status-pending text-sm mt-1">
      <div *ngIf="registerForm.get('password')?.errors?.['required']">Password is required.</div>
      <div *ngIf="registerForm.get('password')?.errors?.['minlength']">Minimum 8 characters.</div>
      <div *ngIf="registerForm.get('password')?.errors?.['pattern']">Must include uppercase, lowercase and digit.</div>
    </div>
  </div>
  <div class="mb-6">
    <label for="confirm_password" class="block mb-2 text-sm font-medium text-gray-900">Confirm password</label>
    <input
      type="password"
      id="confirm_password"
      formControlName="confirmPassword"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5"
      placeholder="•••••••••"
    />
    <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.hasError('passwordsMismatch')" class="text-status-pending text-sm mt-1">
      Passwords do not match.
    </div>
  </div>

  <div class="flex items-start mb-6">
    <div class="flex items-center h-5">
      <input
        id="terms"
        type="checkbox"
        formControlName="termsAccepted"
        class="w-4 h-4 border border-gray-300 rounded-sm bg-gray-50 focus:ring-3 focus:ring-blue-300"
      />
    </div>
    <label for="terms" class="ms-2 text-sm font-medium text-gray-900">I agree with the <a href="#" class="text-accent hover:underline">terms and conditions</a>.</label>
    <div *ngIf="registerForm.get('termsAccepted')?.touched && registerForm.get('termsAccepted')?.invalid" class="text-status-pending text-sm mb-4">
      You must accept the terms and conditions.
    </div>
  </div>

  <button
    type="submit"
    [disabled]="isSubmitting"
    class="text-white bg-accent hover:bg-secondary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"
  >
    {{ isSubmitting ? 'Submitting...' : 'Submit' }}
  </button>
</form>
